USE BD_BRIND
GO
SET ANSI_NULLS, QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE dbo.PR_RetornaDadosFonecedor
 
	@CHV_ACESSO VARCHAR(44)
AS
SET NOCOUNT ON;
	
	DECLARE 
		@CNPJ_CHV VARCHAR (14) =  SUBSTRING(@CHV_ACESSO, 7, 14)
 
	IF (SELECT  TOP 1 1 FROM FORNE WHERE CNPJ_FORN = @CNPJ_CHV) = 1
		BEGIN
			SELECT 
				 ID_FORNE,
				 Razao_Social,
				 CNPJ_FORN		
			FROM FORNE WHERE CNPJ_FORN = @CNPJ_CHV 
		END
	ELSE
		PRINT  'FORNECEDOR N√ÉO ENCONTRADO'

GO
